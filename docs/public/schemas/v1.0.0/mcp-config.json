{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "$id": "https://docs.1mcp.app/schemas/v1.0.0/mcp-config.json",
  "title": "1MCP Server Configuration v1.0.0",
  "description": "JSON Schema for 1MCP server configuration files (v1.0.0)",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "format": "uri",
      "description": "JSON Schema reference for IDE autocompletion and validation"
    },
    "version": {
      "type": "string"
    },
    "mcpServers": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["stdio", "sse", "http", "streamableHttp"]
          },
          "disabled": {
            "type": "boolean"
          },
          "timeout": {
            "type": "number"
          },
          "connectionTimeout": {
            "type": "number"
          },
          "requestTimeout": {
            "type": "number"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "oauth": {
            "type": "object",
            "properties": {
              "clientId": {
                "type": "string"
              },
              "clientSecret": {
                "type": "string"
              },
              "scopes": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "autoRegister": {
                "type": "boolean"
              }
            }
          },
          "url": {
            "type": "string",
            "format": "uri"
          },
          "headers": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "command": {
            "type": "string"
          },
          "args": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "stderr": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "number"
              }
            ]
          },
          "cwd": {
            "type": "string"
          },
          "env": {
            "anyOf": [
              {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "inheritParentEnv": {
            "type": "boolean"
          },
          "envFilter": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "restartOnExit": {
            "type": "boolean"
          },
          "maxRestarts": {
            "type": "number",
            "minimum": 0
          },
          "restartDelay": {
            "type": "number",
            "minimum": 0
          },
          "template": {
            "type": "object",
            "properties": {
              "shareable": {
                "type": "boolean"
              },
              "maxInstances": {
                "type": "number",
                "minimum": 0
              },
              "idleTimeout": {
                "type": "number",
                "minimum": 0
              },
              "perClient": {
                "type": "boolean"
              },
              "extractionOptions": {
                "type": "object",
                "properties": {
                  "includeOptional": {
                    "type": "boolean"
                  },
                  "includeEnvironment": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      }
    },
    "mcpTemplates": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["stdio", "sse", "http", "streamableHttp"]
          },
          "disabled": {
            "type": "boolean"
          },
          "timeout": {
            "type": "number"
          },
          "connectionTimeout": {
            "type": "number"
          },
          "requestTimeout": {
            "type": "number"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "oauth": {
            "type": "object",
            "properties": {
              "clientId": {
                "type": "string"
              },
              "clientSecret": {
                "type": "string"
              },
              "scopes": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "autoRegister": {
                "type": "boolean"
              }
            }
          },
          "url": {
            "type": "string",
            "format": "uri"
          },
          "headers": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "command": {
            "type": "string"
          },
          "args": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "stderr": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "number"
              }
            ]
          },
          "cwd": {
            "type": "string"
          },
          "env": {
            "anyOf": [
              {
                "type": "object",
                "additionalProperties": {
                  "type": "string"
                }
              },
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            ]
          },
          "inheritParentEnv": {
            "type": "boolean"
          },
          "envFilter": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "restartOnExit": {
            "type": "boolean"
          },
          "maxRestarts": {
            "type": "number",
            "minimum": 0
          },
          "restartDelay": {
            "type": "number",
            "minimum": 0
          },
          "template": {
            "type": "object",
            "properties": {
              "shareable": {
                "type": "boolean"
              },
              "maxInstances": {
                "type": "number",
                "minimum": 0
              },
              "idleTimeout": {
                "type": "number",
                "minimum": 0
              },
              "perClient": {
                "type": "boolean"
              },
              "extractionOptions": {
                "type": "object",
                "properties": {
                  "includeOptional": {
                    "type": "boolean"
                  },
                  "includeEnvironment": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      }
    },
    "templateSettings": {
      "type": "object",
      "properties": {
        "validateOnReload": {
          "type": "boolean"
        },
        "failureMode": {
          "type": "string",
          "enum": ["strict", "graceful"]
        },
        "cacheContext": {
          "type": "boolean"
        }
      }
    }
  },
  "required": ["mcpServers"]
}
